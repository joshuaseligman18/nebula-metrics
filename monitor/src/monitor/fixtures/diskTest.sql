CREATE TABLE DISK (
    DEVICE_NAME TEXT NOT NULL,
    MOUNT       TEXT NOT NULL,
    FS_TYPE     TEXT NOT NULL,
    PRIMARY KEY (DEVICE_NAME)
);

CREATE TABLE DISKSTAT (
    DEVICE_NAME TEXT NOT NULL,
    TIMESTAMP   INT  NOT NULL CHECK(TIMESTAMP >= 0),
    USED        INT  NOT NULL CHECK(USED >= 0),
    AVAILABLE   INT  NOT NULL CHECK(AVAILABLE >= 0),
    PRIMARY KEY (DEVICE_NAME, TIMESTAMP),
    FOREIGN KEY (DEVICE_NAME) REFERENCES DISK(DEVICE_NAME)
);

INSERT INTO DISK VALUES ("/old/device", "/old/mount", "ext4");
INSERT INTO DISK VALUES ("/test/disk", "/test/folder", "ext4");

INSERT INTO DISKSTAT VALUES("/old/device", 12345, 42, 99);
