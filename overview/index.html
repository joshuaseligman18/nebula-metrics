<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.124.1"><meta name=generator content="Relearn 5.25.0+tip"><meta name=description content><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="How Nebula Metrics Works :: Nebula Metrics"><meta name=twitter:description content><meta property="og:title" content="How Nebula Metrics Works :: Nebula Metrics"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://joshuaseligman18.github.io/nebula-metrics/overview/index.html"><meta property="og:site_name" content="Nebula Metrics"><title>How Nebula Metrics Works :: Nebula Metrics</title>
<link href=/nebula-metrics/overview/index.xml rel=alternate type=application/rss+xml title="How Nebula Metrics Works :: Nebula Metrics"><link rel=icon href type=img/png><link href=/nebula-metrics/css/fontawesome-all.min.css?1711030589 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/nebula-metrics/css/fontawesome-all.min.css?1711030589 rel=stylesheet></noscript><link href=/nebula-metrics/css/nucleus.css?1711030589 rel=stylesheet><link href=/nebula-metrics/css/auto-complete.css?1711030589 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/nebula-metrics/css/auto-complete.css?1711030589 rel=stylesheet></noscript><link href=/nebula-metrics/css/perfect-scrollbar.min.css?1711030589 rel=stylesheet><link href=/nebula-metrics/css/fonts.css?1711030589 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/nebula-metrics/css/fonts.css?1711030589 rel=stylesheet></noscript><link href=/nebula-metrics/css/theme.css?1711030589 rel=stylesheet><link href=/nebula-metrics/css/theme-zen-auto.css?1711030589 rel=stylesheet id=R-variant-style><link href=/nebula-metrics/css/chroma-zen-auto.css?1711030589 rel=stylesheet id=R-variant-chroma-style><link href=/nebula-metrics/css/variant.css?1711030589 rel=stylesheet><link href=/nebula-metrics/css/print.css?1711030589 rel=stylesheet media=print><link href=/nebula-metrics/css/ie.css?1711030589 rel=stylesheet><script src=/nebula-metrics/js/url.js?1711030589></script><script src=/nebula-metrics/js/variant.js?1711030589></script><script>var root_url="/",baseUri=root_url.replace(/\/$/,"");window.relearn=window.relearn||{},window.relearn.baseUriFull="https://joshuaseligman18.github.io/nebula-metrics/",window.relearn.themeVariantModifier="",window.variants&&variants.init(["zen-auto"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script></head><body class="mobile-support html" data-url=/nebula-metrics/overview/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#monitor>Monitor</a></li><li><a href=#database>Database</a></li><li><a href=#api>API</a></li><li><a href=#dashboard>Dashboard</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/nebula-metrics/index.html><span itemprop=name>Nebula Metrics</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>How Nebula Metrics Works</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/nebula-metrics/about/index.html title="What is Nebula Metrics? (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/nebula-metrics/overview/tech-stack/index.html title="Tech Stack in Detail (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=how-nebula-metrics-works>How Nebula Metrics Works</h1><p><img src=/nebula-metrics/images/designApproach.png alt="Design approach of Nebula Metrics" class="figure-image noborder nolightbox noshadow" style=height:auto;width:auto loading=lazy></p><p>Nebula Metrics is broken up into 3 main components: monitor, API, and dashboard.
The platform also uses a database for persistent storage of the colected metrics.
The following sections describe these parts in detail regarding how they work and
some of the key design decisions.</p><h2 id=monitor>Monitor</h2><p>The monitor runs on a scheduled interval to collect and aggregrate the relevant
information for the end-user to fetch. This component is written in the
<a href=https://www.rust-lang.org/ target=_blank>Rust</a> programming language with the
<a href=https://tokio.rs/ target=_blank>tokio</a> asynchronous runtime to be able to run async/await
code and makes multithreading easier with multiple tasks needing to run at the
same time.</p><p>Since Nebula Metrics is built exclusively for Linux, the
<a href=https://crates.io/crates/procfs target=_blank>procfs</a> package will be utilized as the interface
to the procfs psuedo-filesystem in Linux to obtain all of the key process and
system metrics. This package does not cover everything (e.g., disk information),
so Nebula Metrics also runs some basic shell commands to obtain the remaining
informaition that procfs does not provide.</p><h2 id=database>Database</h2><p>The database for Nebula Metrics is an <a href=https://www.sqlite.org/ target=_blank>SQLite 3</a> database,
which is file-based and does not require a remote server to store the data. This
is critical for security as data are independent for each system, and no machine&rsquo;s
data should be stored in a common place with another machine&rsquo;s metrics. Instead,
all data are stored on-device in a single file, which simplifies the architecture
and does not require an internet connection to run Nebula Metrics.</p><p>System metrics become outdated and irrelevant after a certain period of time,
which makes data past a certain age not needed anymore within the database.
Thus, the monitor also handles pruning the database on an infrequent interval to
make sure only the most recent data are stored on-device and that the database
does not completely use up the system&rsquo;s storage.</p><h2 id=api>API</h2><p>The API is the interface to obtain the important data of the particular system
running Nebula Metrics. This component is written in Rust using the
<a href=https://crates.io/crates/axum target=_blank>Axum</a> library. The API has read-only access
to the databse, ensuring that only the monitor can modify the data presented
to the user. In addition to serving the data, the API also hosts the dashboard
as static HTML/CSS/JS files for simple and easy access.</p><h2 id=dashboard>Dashboard</h2><p>The dashboard is the primary method of accessing the information provided by
Nebula Metrics. The website is built using <a href=https://www.typescriptlang.org/ target=_blank>TypeScript</a>
and <a href=https://react.dev/ target=_blank>React.js</a> and then compiled into static HTML/CSS/JS for
the API to server. All metrics are fetched from the API and displayed with visual
graphs for easy interpretation of the data. Furthermore, users are able to filter
the time of the displayed data to focus on a specific period where something may
have gone wrong within their computer.</p><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a href=/nebula-metrics/index.html><img class=nebula-logo src>
</a><script type=text/javascript>const themeLogo=window.getComputedStyle(document.documentElement).getPropertyValue("--BROWSER-theme"),logos=document.querySelectorAll(".nebula-logo");for(const e of logos)e.src=`/nebula-metrics/images/logo-${themeLogo}.png`;const links=document.querySelectorAll("link");for(const e of links)e.rel==="icon"&&(e.href=`/nebula-metrics/images/favicon-${themeLogo}.png`)</script></div></div><div id=R-homelinks class=default-animation><hr class=padding></div><div id=R-content-wrapper class=highlightable><div id=R-topics><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/nebula-metrics/about/index.html><a class=padding href=/nebula-metrics/about/index.html>What is Nebula Metrics?</a></li><li data-nav-id=/nebula-metrics/overview/index.html class="active parent"><input type=checkbox id=R-section-d777480ed79062ea8f809a7116e81e75 aria-controls=R-subsections-d777480ed79062ea8f809a7116e81e75 checked><label for=R-section-d777480ed79062ea8f809a7116e81e75><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu How Nebula Metrics Works</span></label><a class=padding href=/nebula-metrics/overview/index.html>How Nebula Metrics Works</a><ul id=R-subsections-d777480ed79062ea8f809a7116e81e75 class="morespace collapsible-menu"><li data-nav-id=/nebula-metrics/overview/tech-stack/index.html><a class=padding href=/nebula-metrics/overview/tech-stack/index.html>Tech Stack in Detail</a></li></ul></li><li data-nav-id=/nebula-metrics/contributing/index.html><a class=padding href=/nebula-metrics/contributing/index.html>Contributing to Nebula Metrics</a></li><li data-nav-id=/nebula-metrics/install/index.html><a class=padding href=/nebula-metrics/install/index.html>Installation Instructions</a></li></ul></div><div id=R-shortcuts><div class="nav-title padding">More</div><ul class=space><li><a class=padding href=https://github.com/joshuaseligman18/nebula-metrics><i class='fab fa-fw fa-github'></i> GitHub Repository</a></li></ul></div><div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div><div id=R-menu-footer><hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"><div id=R-prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks"><ul><li id=R-select-language-container class=footerLangSwitch><div class="padding menu-control"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-language>Language</label>
<select id=R-select-language onchange="location=baseUri+this.value"><option id=R-en value=/nebula-metrics/overview/index.html lang=en-us selected></option></select></div><div class=clear></div></div></li><li id=R-select-variant-container class=footerVariantSwitch><div class="padding menu-control"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=R-zen-auto value=zen-auto selected>Zen Auto</option></select></div><div class=clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><div class="padding menu-control"><i class="fas fa-history fa-fw"></i>
<span>&nbsp;</span><div class=control-style><button onclick=clearHistory()>Clear History</button></div><div class=clear></div></div></li></ul></div><div id=R-footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></div></aside><script src=/nebula-metrics/js/clipboard.min.js?1711030589 defer></script><script src=/nebula-metrics/js/perfect-scrollbar.min.js?1711030589 defer></script><script src=/nebula-metrics/js/theme.js?1711030589 defer></script></body></html>